(()=>{"use strict";const e=()=>{document.querySelectorAll(".progress").forEach((e=>{e.addEventListener("input",(function(){let e=this.value;this.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${100*e}%, #C4C4C4 ${100*e}%, #C4C4C4 100%)`}))}))},t={container:document.querySelector(".container"),backgroundOverlay:document.querySelector(".container-overlay"),ltCorner:document.querySelector(".container-overlay-lt"),rtCorner:document.querySelector(".container-overlay-rt"),lbCorner:document.querySelector(".container-overlay-lb"),rbCorner:document.querySelector(".container-overlay-rb"),left:document.querySelector(".container-overlay-left"),center:document.querySelector(".container-overlay-center"),right:document.querySelector(".container-overlay-right"),leftHalf:document.querySelector(".container-overlay-half-left"),rightHalf:document.querySelector(".container-overlay-half-right"),cornersCover:function(){this.backgroundOverlay.classList.remove("hidden"),this.container.style.overflow="hidden",this.ltCorner.classList.add("slideInLT"),this.ltCorner.addEventListener("animationend",(()=>{this.ltCorner.classList.remove("slideInLT"),this.backgroundOverlay.classList.add("hidden"),this.container.style.overflow="visible"})),this.rtCorner.classList.add("slideInRT"),this.rtCorner.addEventListener("animationend",(()=>{this.rtCorner.classList.remove("slideInRT")})),this.lbCorner.classList.add("slideInLB"),this.lbCorner.addEventListener("animationend",(()=>{this.lbCorner.classList.remove("slideInLB")})),this.rbCorner.classList.add("slideInRB"),this.rbCorner.addEventListener("animationend",(()=>{this.rbCorner.classList.remove("slideInRB")}))},linesCover:function(){this.container.style.overflow="hidden",this.backgroundOverlay.classList.remove("hidden"),this.left.classList.add("slideInLeft"),this.left.addEventListener("animationend",(()=>{this.left.classList.remove("slideInLeft"),this.backgroundOverlay.classList.add("hidden"),this.container.style.overflow="visible"})),this.right.classList.add("slideInRight"),this.right.addEventListener("animationend",(()=>{this.right.classList.remove("slideInRight")})),this.center.classList.add("slideInCenter"),this.center.addEventListener("animationend",(()=>{this.center.classList.remove("slideInCenter")}))},halvesCover:function(){this.container.style.overflow="hidden",this.backgroundOverlay.classList.remove("hidden"),this.leftHalf.classList.add("slideInHalfLeft"),this.leftHalf.addEventListener("animationend",(()=>{this.leftHalf.classList.remove("slideInHalfLeft"),this.backgroundOverlay.classList.add("hidden"),this.container.style.overflow="visible"})),this.rightHalf.classList.add("slideInHalfRight"),this.rightHalf.addEventListener("animationend",(()=>{this.rightHalf.classList.remove("slideInHalfRight")}))},openModal:function(e,t){t.classList.remove("hidden"),e.classList.remove("hidden"),e.classList.add("fadeIn"),e.addEventListener("animationend",(()=>{e.classList.remove("fadeIn"),e.classList.remove("hidden-modal")}))},closeModal:function(e,t,n=!1){!1===n?(e.classList.add("hidden-modal"),e.classList.add("hidden"),t.classList.add("hidden")):(e.classList.add("fadeOut"),e.addEventListener("animationend",(function(){e.classList.add("hidden-modal"),e.classList.remove("fadeOut"),e.classList.add("hidden"),t.classList.add("hidden")})))}},n=()=>{const e=document.querySelector(".container"),n=(document.querySelector(".footer"),document.querySelector(".header"),document.querySelector(".header-default")),i=document.querySelector(".mainscreen-container"),s=document.querySelector(".mainscreen-settings-open-btn"),r=document.querySelector(".mainscreen-buttons-artists"),o=document.querySelector(".mainscreen-buttons-pictures"),a=document.querySelector(".header-settings"),c=document.querySelector(".settings"),l=document.querySelectorAll(".settings-close"),d=document.querySelector(".settings-save-button"),u=document.querySelector(".header-menu"),m=document.querySelector(".categories-artists"),v=document.querySelector(".categories-paintings"),h=document.querySelector(".categories-settings-open-btn"),g=document.querySelector(".header-menu-text-home"),y=document.querySelectorAll(".categories-artists-item"),L=document.querySelectorAll(".categories-paintings-item"),f=document.querySelectorAll(".categories-item-header-score-ar"),q=document.querySelectorAll(".categories-item-header-score-pa"),S=document.querySelector(".header-questions"),p=document.querySelector(".header-questions-close"),C=document.querySelector(".header-questions-timer"),b=document.querySelector(".questions-artists"),E=document.querySelector(".questions-artists-picture-img"),I=document.querySelectorAll(".questions-artists-picture-dots-item"),x=document.querySelector(".questions-paintings"),k=document.querySelector(".overlay"),w=document.querySelector(".modal-quit"),M=document.querySelector(".modal-quit-btn-cancel"),T=document.querySelector(".modal-quit-btn-confirm"),$=document.querySelector(".modal-answer-artists"),A=$.querySelector(".modal-answer-picture-img"),O=$.querySelector(".modal-answer-painting"),H=$.querySelector(".modal-answer-subheader"),R=$.querySelector(".modal-answer-picture-icon-incorrect"),B=$.querySelector(".modal-answer-picture-icon-correct"),F=$.querySelector(".modal-answer-btn"),N=document.querySelector(".modal-answer-paintings"),D=N.querySelector(".modal-answer-picture-img"),W=N.querySelector(".modal-answer-painting"),j=N.querySelector(".modal-answer-subheader"),J=N.querySelector(".modal-answer-picture-icon-incorrect"),P=N.querySelector(".modal-answer-picture-icon-correct"),z=N.querySelector(".modal-answer-btn"),G=document.querySelector(".modal-victory"),K=document.querySelector(".modal-victory-btn-home"),Q=document.querySelector(".modal-victory-btn-next"),U=document.querySelector(".modal-info"),V=document.querySelector(".modal-info-picture"),X=document.querySelector(".modal-info-painting"),Y=document.querySelector(".modal-info-subheader"),Z=document.querySelector(".modal-info-btn"),_=document.querySelector(".header-results"),ee=document.querySelector(".header-results-text-home"),te=document.querySelector(".header-results-text-categories"),ne=document.querySelector(".results"),ie=document.querySelectorAll(".results-pictures-item"),se=document.querySelector(".results-title-number"),re=document.querySelector(".results-title-score"),oe=document.querySelector(".audio-correct"),ae=document.querySelector(".audio-incorrect"),ce=document.querySelector(".audio-final");function le(){t.halvesCover()}let de,ue,me=n,ve=i;function he(t,n){le(),setTimeout((function(){e.classList.remove("container-mainscreen"),e.classList.add("container-default"),t.classList.add("hidden"),n.classList.add("hidden"),a.classList.remove("hidden"),c.classList.remove("hidden")}),500)}function ge(t,i){le(),setTimeout((function(){t===n?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.remove("hidden"),i.classList.remove("hidden"),a.classList.add("hidden"),c.classList.add("hidden")}),500)}let ye=.2,Le="false",fe=20;const qe=document.querySelector("#settings-volume"),Se=document.querySelector(".switch"),pe=document.querySelector(".settings-number-input"),Ce=document.querySelector("#plus"),be=document.querySelector("#minus"),Ee=document.querySelectorAll(".audio");function Ie(){qe.value=ye,qe.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${100*qe.value}%, #C4C4C4 ${100*qe.value}%, #C4C4C4 100%)`,qe.addEventListener("input",(function(){ye=qe.value,localStorage.setItem("volume",ye)})),Ee.forEach((e=>{e.volume=ye})),"true"===Le?Se.classList.add("switchOn"):Se.classList.remove("switchOn"),Se.addEventListener("click",(function(){"true"===Le?(Le="false",Se.classList.remove("switchOn")):(Le="true",Se.classList.add("switchOn")),localStorage.setItem("playWithTimer",Le)})),pe.value=fe,"true"===Le?C.textContent=fe:C.innerHTML="&#8734"}function xe(t,n){le(),setTimeout((function(){ve===i?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.add("hidden"),n.classList.add("hidden"),me.classList.remove("hidden"),ve.classList.remove("hidden")}),500)}let ke,we,Me,Te;Ce.addEventListener("click",(()=>{fe+=5,fe>30&&(fe=30),pe.value=fe,localStorage.setItem("timerDuration",fe)})),be.addEventListener("click",(()=>{fe-=5,fe<5&&(fe=5),pe.value=fe,localStorage.setItem("timerDuration",fe)})),null!=localStorage.getItem("volume")?ye=+localStorage.getItem("volume"):localStorage.setItem("volume",ye),null!=localStorage.getItem("playWithTimer")?Le=localStorage.getItem("playWithTimer"):localStorage.setItem("playWithTimer",Le),null!=localStorage.getItem("timerDuration")?fe=+localStorage.getItem("timerDuration"):localStorage.setItem("timerDuration",fe),Ie(),l.forEach((e=>{e.addEventListener("click",(function(){ge(me,ve)}))})),d.addEventListener("click",(function(){ge(me,ve),Ie()})),s.addEventListener("click",(function(){me=n,ve=i,he(n,i)})),h.addEventListener("click",(function(){he(me,ve)})),r.addEventListener("click",(function(){de=m,ue=b,me=u,ve=m,xe(n,i)})),o.addEventListener("click",(function(){de=v,ue=x,me=u,ve=v,xe(n,i)})),g.addEventListener("click",(function(){let e=ve;me=n,ve=i,xe(u,e)}));let $e=[],Ae=[],Oe={};null!=localStorage.getItem("ResultsArtists")&&(Oe=JSON.parse(localStorage.getItem("ResultsArtists")));let He,Re={};function Be(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}async function Fe(){try{const e="https://raw.githubusercontent.com/dumbus/image-data/master/images.json",t=await fetch(e);return await t.json()}catch(e){console.log(e)}}function Ne(e,t,n=!0){try{const i=new Image;i.src=n?`https://raw.githubusercontent.com/dumbus/image-data/master/full/${e}full.jpg`:`https://raw.githubusercontent.com/dumbus/image-data/master/img/${e}.jpg`,i.onload=()=>{t.style.backgroundImage=`url("${i.src}")`,t.style.backgroundSize="100%"}}catch(e){console.log(e)}}async function De(){function e(){let e=0,n=`Round${we+1}`;$e.forEach((t=>{!0===t&&e++}));let i=document.querySelector(".modal-victory-subheader");i.textContent=e>0?"Congratulations!":"Bad luck...",setTimeout((function(){ce.play()}),1e3),I.forEach((e=>{e.classList.remove("questions-artists-picture-dots-item-correct"),e.classList.remove("questions-artists-picture-dots-item-incorrect")})),document.querySelector(".modal-victory-result").textContent=`${e}/10`,t.openModal(G,k),y[we].querySelector(".categories-item-header-score").textContent=`${e}/10`,y[we].querySelector(".categories-item-header-score").classList.remove("hidden"),y[we].classList.remove("categories-item-inactive"),Oe[n]=$e,localStorage.setItem("ResultsArtists",JSON.stringify(Oe))}let n=fe-1;"true"===Le&&(C.textContent=fe,He=setInterval((function(){C.textContent=n,n--,-1===n&&Te<9?(C.innerHTML="&#8734",$e[Te]=!1,R.classList.remove("hidden"),I[Te].classList.add("questions-artists-picture-dots-item-incorrect"),ae.play(),t.openModal($,k),clearInterval(He)):-1===n&&9==Te&&(C.innerHTML="&#8734",$e[Te]=!1,R.classList.remove("hidden"),I[Te].classList.add("questions-artists-picture-dots-item-incorrect"),ae.play(),clearInterval(He),e())}),1e3));const i=document.querySelector(".questions-artists-buttons"),s=document.querySelectorAll(".questions-artists-buttons-item");let r;Ne(Me,E),Ne(Me,A,!1);let o=[];await async function(e){await Fe().then((e=>{ke=e}));let t=ke[e],n=[];for(n.push(t.author);n.length<4;){let e=Be(0,241),t=ke[e].author;-1==n.indexOf(t)&&n.push(t)}return[t,n]}(Me).then((e=>{r=e[0],o=e[1]})),O.textContent=r.name,H.textContent=`${r.author}, ${r.year}`,o.sort((()=>Math.random()-.5));let a=o.indexOf(r.author);for(let e=0;e<4;e++)s[e].textContent=o[e];s.forEach((s=>{s.addEventListener("click",(function(){"true"===Le&&(clearInterval(He),C.textContent=n+1),s.getAttribute("data-index")==a?$e[Te]=!0:$e[Te]=!1,1==$e[Te]?(B.classList.remove("hidden"),I[Te].classList.add("questions-artists-picture-dots-item-correct"),oe.play()):(R.classList.remove("hidden"),I[Te].classList.add("questions-artists-picture-dots-item-incorrect"),ae.play()),9===Te?e():(i.innerHTML='\n          <div class="questions-artists-buttons-item button" data-index="0"></div>\n          <div class="questions-artists-buttons-item button" data-index="1"></div>\n          <div class="questions-artists-buttons-item button" data-index="2"></div>\n          <div class="questions-artists-buttons-item button" data-index="3"></div>\n          ',t.openModal($,k))}))}))}async function We(){function e(){let e=0,n=`Round${we+1}`;Ae.forEach((t=>{!0===t&&e++}));let i=document.querySelector(".modal-victory-subheader");i.textContent=e>0?"Congratulations!":"Bad luck...",setTimeout((function(){ce.play()}),1e3),document.querySelector(".modal-victory-result").textContent=`${e}/10`,t.openModal(G,k),L[we].querySelector(".categories-item-header-score").textContent=`${e}/10`,L[we].querySelector(".categories-item-header-score").classList.remove("hidden"),L[we].classList.remove("categories-item-inactive"),Re[n]=Ae,localStorage.setItem("ResultsPaintings",JSON.stringify(Re))}let n=fe-1;"true"===Le&&(He=setInterval((function(){C.textContent=n,n--,-1===n&&Te<9?(C.innerHTML="&#8734",Ae[Te]=!1,J.classList.remove("hidden"),ae.play(),t.openModal(N,k),clearInterval(He)):-1===n&&9==Te&&(C.innerHTML="&#8734",Ae[Te]=!1,J.classList.remove("hidden"),ae.play(),clearInterval(He),e())}),1e3)),document.querySelector(".questions-paintings-grid").innerHTML='\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="0"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="1"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="2"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="3"></div>\n      </div>\n    ';const i=document.querySelector(".questions-paintings-subheader"),s=document.querySelectorAll(".questions-paintings-grid-item"),r=document.querySelectorAll(".questions-paintings-grid-item-overlay");let o,a=[];await async function(e){await Fe().then((e=>{ke=e}));let t=ke[e],n=[],i=[];for(n.push(t.imageNum),i.push(t.author);n.length<4;){let e=Be(0,241),t=ke[e].imageNum,s=ke[e].author;-1==n.indexOf(t)&&-1==s.indexOf(i)&&(n.push(t),i.push(s))}return[t,n]}(Me).then((e=>{o=e[0],a=e[1]})),Ne(Me,D,!1),W.textContent=o.name,j.textContent=`${o.author}, ${o.year}`,a.sort((()=>Math.random()-.5));let c=a.indexOf(o.imageNum);i.textContent=`Which is ${o.author} picture?`;let l=0;s.forEach((e=>{Ne(a[l],e,!1),l++})),r.forEach((i=>{i.addEventListener("click",(function(){"true"===Le&&(clearInterval(He),C.textContent=n+1),i.getAttribute("data-index")==c?Ae[Te]=!0:Ae[Te]=!1,1==Ae[Te]?(P.classList.remove("hidden"),i.classList.add("questions-paintings-grid-item-overlay-correct"),oe.play()):(J.classList.remove("hidden"),i.classList.add("questions-paintings-grid-item-overlay-incorrect"),ae.play()),9===Te?e():t.openModal(N,k)}))}))}null!=localStorage.getItem("ResultsPaintings")&&(Re=JSON.parse(localStorage.getItem("ResultsPaintings"))),m.addEventListener("click",(async e=>{if(de=m,ue=b,!e.target.classList.contains("categories")&&e.target.classList.contains("artists-trigger")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;we=t.getAttribute("data-index")-1,Me=10*we,Te=0,await De(),me=S,ve=b,xe(u,m)}})),F.addEventListener("click",(function(){Me++,Te++,t.cornersCover(),setTimeout((function(){De(),t.closeModal($,k),B.classList.add("hidden"),R.classList.add("hidden")}),400)})),p.addEventListener("click",(function(){I.forEach((e=>{e.classList.remove("questions-artists-picture-dots-item-correct"),e.classList.remove("questions-artists-picture-dots-item-incorrect")})),t.openModal(w,k)})),Q.addEventListener("click",(function(){me=u,ve=de,xe(S,ue),setTimeout((function(){t.closeModal($,k),t.closeModal(G,k)}),500)})),K.addEventListener("click",(function(){me=n,ve=i,xe(S,ue),setTimeout((function(){t.closeModal($,k),t.closeModal(G,k)}),500)})),T.addEventListener("click",(function(){me=n,ve=i,xe(S,ue),setTimeout((function(){t.closeModal(w,k)}),500),clearInterval(He)})),M.addEventListener("click",(function(){t.closeModal(w,k)})),v.addEventListener("click",(async e=>{if(de=v,ue=x,!e.target.classList.contains("categories")&&e.target.classList.contains("paintings-trigger")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;we=t.getAttribute("data-index")-1,Me=10*we+120,Te=0,await We(),me=S,ve=x,xe(u,v)}})),z.addEventListener("click",(function(){Me++,Te++,t.linesCover(),setTimeout((function(){We(),t.closeModal(N,k),P.classList.add("hidden"),J.classList.add("hidden")}),800)})),p.addEventListener("click",(function(){t.openModal(w,k)}));for(let e=1;e<13;e++){let t=`Round${e}`,n=0;null!=Oe&&(Oe[t]?(Oe[t].forEach((e=>{!0===e&&n++})),f[e-1].innerHTML=`${n}/10`,y[e-1].classList.remove("categories-item-inactive")):f[e-1].classList.add("hidden"))}for(let e=1;e<13;e++){let t=`Round${e}`,n=0;null!=Re&&(Re[t]?(Re[t].forEach((e=>{!0===e&&n++})),q[e-1].innerHTML=`${n}/10`,L[e-1].classList.remove("categories-item-inactive")):q[e-1].classList.add("hidden"))}async function je(e,n){await Fe().then((e=>{ke=e}));let i,s=`Round${e+1}`,r=0;if("artists"===n){i=10*e;for(let e=0;e<10;e++)ie[e].classList.add("results-pictures-item-inactive"),1==Oe[s][e]&&(r++,ie[e].classList.remove("results-pictures-item-inactive"))}if("pictures"===n){i=10*e+120;for(let e=0;e<10;e++)ie[e].classList.add("results-pictures-item-inactive"),1==Re[s][e]&&(r++,ie[e].classList.remove("results-pictures-item-inactive"))}for(let e=0;e<10;e++){let n=i;n+=e,ie[e].addEventListener("click",(function(){Ne(n,V,!1),X.textContent=ke[n].name,Y.textContent=`${ke[n].author}, ${ke[n].year}`,t.openModal(U,k),n++})),Z.addEventListener("click",(function(){t.closeModal(U,k)}))}for(let e=0;e<10;e++)Ne(i,ie[e],!1),i++;se.textContent=`Round ${e+1}`,re.textContent=`${r}/10`,me=_,ve=ne,xe(u,de)}ee.addEventListener("click",(function(){let e=ve;me=n,ve=i,xe(_,e)})),te.addEventListener("click",(function(){me=u,ve=de,xe(_,ne)}));for(let e=0;e<10;e++)f[e].addEventListener("click",(function(){je(e,"artists")}));for(let e=0;e<10;e++)q[e].addEventListener("click",(function(){je(e,"pictures")}))};window.addEventListener("DOMContentLoaded",(()=>{n(),e(),console.log('\n  Score: 220/220\n  [+] Стартовая страница и навигация 20/20\n  [+] Настройки 40/40\n  [+] Страница категорий 30/30\n  [+] Страница с вопросами 50/50\n  [+] Страница с результатами 50/50 (открывается при нажатии на результат в блоке с выбором раунда)\n  [+] Плавная смена изображений 10/10\n  [+] 4 сложные анимации 20/20 (анимация fadeIn для модальных окон;\n    анимация "шторок" при открытии настроек; \n    анимация блоков, выезжающих из углов при смене вопроса в игре про художников;\n    анимация 3-х вертикальных полос, выезжающих сверху и снизу при смене вопроса в игре про картины;)\n  ')}))})();