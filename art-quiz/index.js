(()=>{"use strict";const e=()=>{const e=document.querySelectorAll(".progress"),t=document.querySelector(".switch");e.forEach((e=>{e.addEventListener("input",(function(){let e=this.value;this.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${e}%, #C4C4C4 ${e}%, #C4C4C4 100%)`}))})),t.addEventListener("click",(()=>{t.classList.toggle("switchOn")}))},t={backgroundOverlay:document.querySelector(".container-overlay"),ltCorner:document.querySelector(".container-overlay-lt"),rtCorner:document.querySelector(".container-overlay-rt"),lbCorner:document.querySelector(".container-overlay-lb"),rbCorner:document.querySelector(".container-overlay-rb"),cornersCover:function(){this.backgroundOverlay.classList.remove("hidden"),this.ltCorner.classList.add("slideInLT"),this.ltCorner.addEventListener("animationend",(()=>{this.ltCorner.classList.remove("slideInLT"),this.backgroundOverlay.classList.add("hidden")})),this.rtCorner.classList.add("slideInRT"),this.rtCorner.addEventListener("animationend",(()=>{this.rtCorner.classList.remove("slideInRT")})),this.lbCorner.classList.add("slideInLB"),this.lbCorner.addEventListener("animationend",(()=>{this.lbCorner.classList.remove("slideInLB")})),this.rbCorner.classList.add("slideInRB"),this.rbCorner.addEventListener("animationend",(()=>{this.rbCorner.classList.remove("slideInRB")}))},openModal:function(e,t){t.classList.remove("hidden"),e.classList.remove("hidden"),e.classList.add("fadeIn"),e.addEventListener("animationend",(()=>{e.classList.remove("fadeIn"),e.classList.remove("hidden-modal")}))},closeModal:function(e,t){e.classList.add("hidden-modal"),e.classList.add("hidden"),t.classList.add("hidden")}},n=()=>{const e=document.querySelector(".container"),n=document.querySelector(".header-default"),s=document.querySelector(".mainscreen-container"),i=document.querySelector(".mainscreen-settings-open-btn"),o=document.querySelector(".mainscreen-buttons-artists"),r=document.querySelector(".mainscreen-buttons-pictures"),c=document.querySelector(".header-settings"),a=document.querySelector(".settings"),d=document.querySelectorAll(".settings-close"),l=document.querySelector(".settings-save-button"),u=document.querySelector(".header-menu"),m=document.querySelector(".categories-artists"),h=document.querySelector(".categories-paintings"),L=document.querySelector(".categories-settings-open-btn"),y=document.querySelector(".header-menu-text-home"),v=document.querySelectorAll(".categories-artists-item"),q=document.querySelector(".header-questions"),g=document.querySelector(".header-questions-close"),f=document.querySelector(".questions-artists"),S=document.querySelector(".questions-artists-picture-img"),b=document.querySelectorAll(".questions-artists-picture-dots-item"),p=document.querySelector(".questions-paintings"),C=document.querySelector(".questions-paintings-subheader");document.querySelector(".questions-paintings-grid");const E=document.querySelectorAll(".questions-paintings-grid-item"),w=document.querySelectorAll(".questions-paintings-grid-item-overlay"),k=document.querySelector(".overlay"),x=document.querySelector(".modal-quit"),M=document.querySelector(".modal-quit-btn-cancel"),T=document.querySelector(".modal-quit-btn-confirm"),A=document.querySelector(".modal-answer-artists"),I=A.querySelector(".modal-answer-picture-img"),$=A.querySelector(".modal-answer-painting"),O=A.querySelector(".modal-answer-subheader"),B=A.querySelector(".modal-answer-picture-icon-incorrect"),R=A.querySelector(".modal-answer-picture-icon-correct"),j=A.querySelector(".modal-answer-btn"),F=document.querySelector(".modal-answer-paintings"),N=F.querySelector(".modal-answer-picture-img"),z=F.querySelector(".modal-answer-painting"),D=F.querySelector(".modal-answer-subheader"),H=F.querySelector(".modal-answer-picture-icon-incorrect"),W=F.querySelector(".modal-answer-picture-icon-correct"),G=F.querySelector(".modal-answer-btn"),J=document.querySelector(".modal-victory"),K=document.querySelector(".modal-victory-btn-home"),P=document.querySelector(".modal-victory-btn-next");function Q(){t.cornersCover()}let U,V,X,Y,Z,_,ee=n,te=s;function ne(t,n){Q(),setTimeout((function(){e.classList.remove("container-mainscreen"),e.classList.add("container-default"),t.classList.add("hidden"),n.classList.add("hidden"),c.classList.remove("hidden"),a.classList.remove("hidden")}),500)}function se(t,s){Q(),setTimeout((function(){t===n?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.remove("hidden"),s.classList.remove("hidden"),c.classList.add("hidden"),a.classList.add("hidden")}),500)}function ie(t,n){Q(),setTimeout((function(){te===s?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.add("hidden"),n.classList.add("hidden"),ee.classList.remove("hidden"),te.classList.remove("hidden")}),400)}d.forEach((e=>{e.addEventListener("click",(function(){se(ee,te)}))})),l.addEventListener("click",(function(){se(ee,te)})),i.addEventListener("click",(function(){ee=n,te=s,ne(n,s)})),L.addEventListener("click",(function(){ne(ee,te)})),o.addEventListener("click",(function(){U=m,V=f,ee=u,te=m,ie(n,s)})),r.addEventListener("click",(function(){U=h,V=p,ee=u,te=h,ie(n,s)})),y.addEventListener("click",(function(){let e=te;ee=n,te=s,ie(u,e)}));let oe=[],re=[];function ce(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}async function ae(){try{const e="https://raw.githubusercontent.com/dumbus/image-data/master/images.json",t=await fetch(e);return await t.json()}catch(e){console.log(e)}}function de(e,t,n=!0){try{const s=new Image;s.src=n?`https://raw.githubusercontent.com/dumbus/image-data/master/full/${e}full.jpg`:`https://raw.githubusercontent.com/dumbus/image-data/master/img/${e}.jpg`,s.onload=()=>{t.style.backgroundImage=`url("${s.src}")`,t.style.backgroundSize="100%"}}catch(e){console.log(e)}}async function le(){const e=document.querySelector(".questions-artists-buttons"),n=document.querySelectorAll(".questions-artists-buttons-item");let s;de(Z,S),de(Z,I,!1);let i=[];await async function(e){await ae().then((e=>{X=e}));let t=X[e],n=[];for(n.push(t.author);n.length<4;){let e=ce(0,241),t=X[e].author;-1==n.indexOf(t)&&n.push(t)}return[t,n]}(Z).then((e=>{s=e[0],i=e[1]})),$.textContent=s.name,O.textContent=`${s.author}, ${s.year}`,i.sort((()=>Math.random()-.5));let o=i.indexOf(s.author);for(let e=0;e<4;e++)n[e].textContent=i[e];n.forEach((n=>{n.addEventListener("click",(function(){if(n.getAttribute("data-index")==o?oe[_]=!0:oe[_]=!1,1==oe[_]?(R.classList.remove("hidden"),b[_].classList.add("questions-artists-picture-dots-item-correct")):(B.classList.remove("hidden"),b[_].classList.add("questions-artists-picture-dots-item-incorrect")),9===_){let e=0;oe.forEach((t=>{!0===t&&e++}));let n=document.querySelector(".modal-victory-subheader");n.textContent=e>0?"Congratulations!":"Bad luck...",document.querySelector(".modal-victory-result").textContent=`${e}/10`,t.openModal(J,k),v[Y].querySelector(".categories-item-header-score").textContent=`${e}/10`,v[Y].classList.remove("categories-item-inactive"),localStorage.setItem(`Round${Y+1}`,currentRoundResults)}else e.innerHTML='\n          <div class="questions-artists-buttons-item button" data-index="0"></div>\n          <div class="questions-artists-buttons-item button" data-index="1"></div>\n          <div class="questions-artists-buttons-item button" data-index="2"></div>\n          <div class="questions-artists-buttons-item button" data-index="3"></div>\n          ',t.openModal(A,k)}))}))}async function ue(){let e,n=[];await async function(e){await ae().then((e=>{X=e}));let t=X[e],n=[];for(n.push(t.imageNum);n.length<4;){let e=ce(0,241),t=X[e].imageNum;-1==n.indexOf(t)&&n.push(t)}return[t,n]}(Z).then((t=>{e=t[0],n=t[1]})),de(Z,N,!1),z.textContent=e.name,D.textContent=`${e.author}, ${e.year}`,n.sort((()=>Math.random()-.5));let s=n.indexOf(e.imageNum);C.textContent=`Which is ${e.author} picture?`;let i=0;E.forEach((e=>{de(n[i],e),i++})),w.forEach((e=>{e.addEventListener("click",(function(){e.getAttribute("data-index")==s?re[_]=!0:re[_]=!1,1==re[_]?(W.classList.remove("hidden"),e.classList.add("questions-paintings-grid-item-overlay-correct")):(H.classList.remove("hidden"),e.classList.add("questions-paintings-grid-item-overlay-incorrect")),t.openModal(F,k)}))})),G.addEventListener("click",(function(){Z++,_++,Q(),setTimeout((function(){ue(),t.closeModal(F,k),W.classList.add("hidden"),H.classList.add("hidden"),w.forEach((e=>{e.classList.remove("questions-paintings-grid-item-overlay-correct"),e.classList.remove("questions-paintings-grid-item-overlay-incorrect")}))}),400)})),g.addEventListener("click",(function(){t.openModal(x,k)}))}m.addEventListener("click",(e=>{if(U=m,V=f,!e.target.classList.contains("categories")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;Y=t.getAttribute("data-index")-1,Z=10*Y,_=0,le(),ee=q,te=f,ie(u,m)}})),j.addEventListener("click",(function(){Z++,_++,Q(),setTimeout((function(){le(),t.closeModal(A,k),R.classList.add("hidden"),B.classList.add("hidden")}),400)})),g.addEventListener("click",(function(){t.openModal(x,k)})),P.addEventListener("click",(function(){ee=u,te=U,ie(q,V),setTimeout((function(){t.closeModal(A,k),t.closeModal(J,k)}),500)})),K.addEventListener("click",(function(){ee=n,te=s,ie(q,V),setTimeout((function(){t.closeModal(A,k),t.closeModal(J,k)}),500)})),T.addEventListener("click",(function(){ee=n,te=s,ie(q,V),setTimeout((function(){t.closeModal(x,k)}),500)})),M.addEventListener("click",(function(){x.classList.add("fadeOut"),setTimeout((function(){x.classList.remove("fadeOut"),t.closeModal(x,k)}),500)})),h.addEventListener("click",(e=>{if(U=h,V=p,!e.target.classList.contains("categories")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;Y=t.getAttribute("data-index")-1,Z=10*Y+120,_=0,ue(),ee=q,te=p,ie(u,h)}}))},s=()=>{};window.addEventListener("DOMContentLoaded",(()=>{e(),n(),s()}))})();