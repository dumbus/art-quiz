(()=>{"use strict";const e=()=>{const e=document.querySelectorAll(".progress"),t=document.querySelector(".switch");e.forEach((e=>{e.addEventListener("input",(function(){let e=this.value;this.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${e}%, #C4C4C4 ${e}%, #C4C4C4 100%)`}))})),t.addEventListener("click",(()=>{t.classList.toggle("switchOn")}))},t={backgroundOverlay:document.querySelector(".container-overlay"),ltCorner:document.querySelector(".container-overlay-lt"),rtCorner:document.querySelector(".container-overlay-rt"),lbCorner:document.querySelector(".container-overlay-lb"),rbCorner:document.querySelector(".container-overlay-rb"),cornersCover:function(){this.backgroundOverlay.classList.remove("hidden"),this.ltCorner.classList.add("slideInLT"),this.ltCorner.addEventListener("animationend",(()=>{this.ltCorner.classList.remove("slideInLT"),this.backgroundOverlay.classList.add("hidden")})),this.rtCorner.classList.add("slideInRT"),this.rtCorner.addEventListener("animationend",(()=>{this.rtCorner.classList.remove("slideInRT")})),this.lbCorner.classList.add("slideInLB"),this.lbCorner.addEventListener("animationend",(()=>{this.lbCorner.classList.remove("slideInLB")})),this.rbCorner.classList.add("slideInRB"),this.rbCorner.addEventListener("animationend",(()=>{this.rbCorner.classList.remove("slideInRB")}))},openModal:function(e,t){t.classList.remove("hidden"),e.classList.remove("hidden"),e.classList.add("fadeIn"),e.addEventListener("animationend",(()=>{e.classList.remove("fadeIn"),e.classList.remove("hidden-modal")}))},closeModal:function(e,t){e.classList.add("hidden-modal"),e.classList.add("hidden"),t.classList.add("hidden")}},n=()=>{const e=document.querySelector(".container"),n=document.querySelector(".header-default"),i=document.querySelector(".mainscreen-container"),s=document.querySelector(".mainscreen-settings-open-btn"),o=document.querySelector(".mainscreen-buttons-artists"),r=document.querySelector(".mainscreen-buttons-pictures"),a=document.querySelector(".header-settings"),c=document.querySelector(".settings"),d=document.querySelectorAll(".settings-close"),l=document.querySelector(".settings-save-button"),u=document.querySelector(".header-menu"),m=document.querySelector(".categories-artists"),g=document.querySelector(".categories-paintings"),v=document.querySelector(".categories-settings-open-btn"),y=document.querySelector(".header-menu-text-home"),h=document.querySelectorAll(".categories-artists-item"),L=document.querySelectorAll(".categories-paintings-item"),q=document.querySelectorAll(".categories-item-header-score-ar"),f=document.querySelectorAll(".categories-item-header-score-pa"),S=document.querySelector(".header-questions"),p=document.querySelector(".header-questions-close"),b=document.querySelector(".questions-artists"),C=document.querySelector(".questions-artists-picture-img"),E=document.querySelectorAll(".questions-artists-picture-dots-item"),x=document.querySelector(".questions-paintings"),k=document.querySelector(".overlay"),w=document.querySelector(".modal-quit"),M=document.querySelector(".modal-quit-btn-cancel"),$=document.querySelector(".modal-quit-btn-confirm"),A=document.querySelector(".modal-answer-artists"),I=A.querySelector(".modal-answer-picture-img"),T=A.querySelector(".modal-answer-painting"),R=A.querySelector(".modal-answer-subheader"),O=A.querySelector(".modal-answer-picture-icon-incorrect"),B=A.querySelector(".modal-answer-picture-icon-correct"),N=A.querySelector(".modal-answer-btn"),j=document.querySelector(".modal-answer-paintings"),F=j.querySelector(".modal-answer-picture-img"),H=j.querySelector(".modal-answer-painting"),J=j.querySelector(".modal-answer-subheader"),P=j.querySelector(".modal-answer-picture-icon-incorrect"),z=j.querySelector(".modal-answer-picture-icon-correct"),D=j.querySelector(".modal-answer-btn"),W=document.querySelector(".modal-victory"),G=document.querySelector(".modal-victory-btn-home"),K=document.querySelector(".modal-victory-btn-next"),Q=document.querySelector(".modal-info"),U=document.querySelector(".modal-info-picture"),V=document.querySelector(".modal-info-painting"),X=document.querySelector(".modal-info-subheader"),Y=document.querySelector(".modal-info-btn"),Z=document.querySelector(".header-results"),_=document.querySelector(".header-results-text-home"),ee=document.querySelector(".header-results-text-categories"),te=document.querySelector(".results"),ne=document.querySelectorAll(".results-pictures-item"),ie=document.querySelector(".results-title-number"),se=document.querySelector(".results-title-score");function oe(){t.cornersCover()}let re,ae,ce,de,le,ue,me=n,ge=i;function ve(t,n){oe(),setTimeout((function(){e.classList.remove("container-mainscreen"),e.classList.add("container-default"),t.classList.add("hidden"),n.classList.add("hidden"),a.classList.remove("hidden"),c.classList.remove("hidden")}),500)}function ye(t,i){oe(),setTimeout((function(){t===n?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.remove("hidden"),i.classList.remove("hidden"),a.classList.add("hidden"),c.classList.add("hidden")}),500)}function he(t,n){oe(),setTimeout((function(){ge===i?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.add("hidden"),n.classList.add("hidden"),me.classList.remove("hidden"),ge.classList.remove("hidden")}),400)}d.forEach((e=>{e.addEventListener("click",(function(){ye(me,ge)}))})),l.addEventListener("click",(function(){ye(me,ge)})),s.addEventListener("click",(function(){me=n,ge=i,ve(n,i)})),v.addEventListener("click",(function(){ve(me,ge)})),o.addEventListener("click",(function(){re=m,ae=b,me=u,ge=m,he(n,i)})),r.addEventListener("click",(function(){re=g,ae=x,me=u,ge=g,he(n,i)})),y.addEventListener("click",(function(){let e=ge;me=n,ge=i,he(u,e)}));let Le=[],qe=[],fe={};null!=localStorage.getItem("ResultsArtists")&&(fe=JSON.parse(localStorage.getItem("ResultsArtists")));let Se={};function pe(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}async function be(){try{const e="https://raw.githubusercontent.com/dumbus/image-data/master/images.json",t=await fetch(e);return await t.json()}catch(e){console.log(e)}}function Ce(e,t,n=!0){try{const i=new Image;i.src=n?`https://raw.githubusercontent.com/dumbus/image-data/master/full/${e}full.jpg`:`https://raw.githubusercontent.com/dumbus/image-data/master/img/${e}.jpg`,i.onload=()=>{t.style.backgroundImage=`url("${i.src}")`,t.style.backgroundSize="100%"}}catch(e){console.log(e)}}async function Ee(){const e=document.querySelector(".questions-artists-buttons"),n=document.querySelectorAll(".questions-artists-buttons-item");let i;Ce(le,C),Ce(le,I,!1);let s=[];await async function(e){await be().then((e=>{ce=e}));let t=ce[e],n=[];for(n.push(t.author);n.length<4;){let e=pe(0,241),t=ce[e].author;-1==n.indexOf(t)&&n.push(t)}return[t,n]}(le).then((e=>{i=e[0],s=e[1]})),T.textContent=i.name,R.textContent=`${i.author}, ${i.year}`,s.sort((()=>Math.random()-.5));let o=s.indexOf(i.author);for(let e=0;e<4;e++)n[e].textContent=s[e];n.forEach((n=>{n.addEventListener("click",(function(){if(n.getAttribute("data-index")==o?Le[ue]=!0:Le[ue]=!1,1==Le[ue]?(B.classList.remove("hidden"),E[ue].classList.add("questions-artists-picture-dots-item-correct")):(O.classList.remove("hidden"),E[ue].classList.add("questions-artists-picture-dots-item-incorrect")),9===ue){let e=0,n=`Round${de+1}`;Le.forEach((t=>{!0===t&&e++}));let i=document.querySelector(".modal-victory-subheader");i.textContent=e>0?"Congratulations!":"Bad luck...",document.querySelector(".modal-victory-result").textContent=`${e}/10`,t.openModal(W,k),h[de].querySelector(".categories-item-header-score").textContent=`${e}/10`,h[de].querySelector(".categories-item-header-score").classList.remove("hidden"),h[de].classList.remove("categories-item-inactive"),fe[n]=Le,localStorage.setItem("ResultsArtists",JSON.stringify(fe))}else e.innerHTML='\n          <div class="questions-artists-buttons-item button" data-index="0"></div>\n          <div class="questions-artists-buttons-item button" data-index="1"></div>\n          <div class="questions-artists-buttons-item button" data-index="2"></div>\n          <div class="questions-artists-buttons-item button" data-index="3"></div>\n          ',t.openModal(A,k)}))}))}async function xe(){document.querySelector(".questions-paintings-grid").innerHTML='\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="0"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="1"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="2"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="3"></div>\n      </div>\n    ';const e=document.querySelector(".questions-paintings-subheader"),n=document.querySelectorAll(".questions-paintings-grid-item"),i=document.querySelectorAll(".questions-paintings-grid-item-overlay");let s,o=[];await async function(e){await be().then((e=>{ce=e}));let t=ce[e],n=[];for(console.log(e),n.push(t.imageNum);n.length<4;){let e=pe(0,241),t=ce[e].imageNum;-1==n.indexOf(t)&&n.push(t)}return[t,n]}(le).then((e=>{s=e[0],o=e[1]})),Ce(le,F,!1),H.textContent=s.name,J.textContent=`${s.author}, ${s.year}`,o.sort((()=>Math.random()-.5));let r=o.indexOf(s.imageNum);e.textContent=`Which is ${s.author} picture?`;let a=0;n.forEach((e=>{Ce(o[a],e),a++})),i.forEach((e=>{e.addEventListener("click",(function(){if(e.getAttribute("data-index")==r?qe[ue]=!0:qe[ue]=!1,1==qe[ue]?(z.classList.remove("hidden"),e.classList.add("questions-paintings-grid-item-overlay-correct")):(P.classList.remove("hidden"),e.classList.add("questions-paintings-grid-item-overlay-incorrect")),9===ue){let e=0,n=`Round${de+1}`;qe.forEach((t=>{!0===t&&e++}));let i=document.querySelector(".modal-victory-subheader");i.textContent=e>0?"Congratulations!":"Bad luck...",document.querySelector(".modal-victory-result").textContent=`${e}/10`,t.openModal(W,k),L[de].querySelector(".categories-item-header-score").textContent=`${e}/10`,L[de].querySelector(".categories-item-header-score").classList.remove("hidden"),L[de].classList.remove("categories-item-inactive"),Se[n]=qe,localStorage.setItem("ResultsPaintings",JSON.stringify(Se))}else t.openModal(j,k)}))}))}null!=localStorage.getItem("ResultsPaintings")&&(Se=JSON.parse(localStorage.getItem("ResultsPaintings"))),m.addEventListener("click",(async e=>{if(re=m,ae=b,!e.target.classList.contains("categories")&&e.target.classList.contains("artists-trigger")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;de=t.getAttribute("data-index")-1,le=10*de,ue=0,await Ee(),me=S,ge=b,he(u,m)}})),N.addEventListener("click",(function(){le++,ue++,oe(),setTimeout((function(){Ee(),t.closeModal(A,k),B.classList.add("hidden"),O.classList.add("hidden")}),400)})),p.addEventListener("click",(function(){t.openModal(w,k)})),K.addEventListener("click",(function(){me=u,ge=re,he(S,ae),setTimeout((function(){t.closeModal(A,k),t.closeModal(W,k)}),500)})),G.addEventListener("click",(function(){me=n,ge=i,he(S,ae),setTimeout((function(){t.closeModal(A,k),t.closeModal(W,k)}),500)})),$.addEventListener("click",(function(){me=n,ge=i,he(S,ae),setTimeout((function(){t.closeModal(w,k)}),500)})),M.addEventListener("click",(function(){w.classList.add("fadeOut"),setTimeout((function(){w.classList.remove("fadeOut"),t.closeModal(w,k)}),500)})),g.addEventListener("click",(async e=>{if(re=g,ae=x,!e.target.classList.contains("categories")&&e.target.classList.contains("paintings-trigger")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;de=t.getAttribute("data-index")-1,le=10*de+120,ue=0,await xe(),me=S,ge=x,he(u,g)}})),D.addEventListener("click",(function(){le++,ue++,oe(),setTimeout((function(){xe(),t.closeModal(j,k),z.classList.add("hidden"),P.classList.add("hidden")}),400)})),p.addEventListener("click",(function(){t.openModal(w,k)}));for(let e=1;e<13;e++){let t=`Round${e}`,n=0;null!=fe&&(fe[t]?(fe[t].forEach((e=>{!0===e&&n++})),q[e-1].innerHTML=`${n}/10`,h[e-1].classList.remove("categories-item-inactive")):q[e-1].classList.add("hidden"))}for(let e=1;e<13;e++){let t=`Round${e}`,n=0;null!=Se&&(Se[t]?(Se[t].forEach((e=>{!0===e&&n++})),f[e-1].innerHTML=`${n}/10`,L[e-1].classList.remove("categories-item-inactive")):f[e-1].classList.add("hidden"))}async function ke(e,n){await be().then((e=>{ce=e}));let i,s=`Round${e+1}`,o=0;if("artists"===n){i=10*e;for(let e=0;e<10;e++)ne[e].classList.add("results-pictures-item-inactive"),1==fe[s][e]&&(o++,ne[e].classList.remove("results-pictures-item-inactive"))}if("pictures"===n){i=10*e+120;for(let e=0;e<10;e++)ne[e].classList.add("results-pictures-item-inactive"),1==Se[s][e]&&(o++,ne[e].classList.remove("results-pictures-item-inactive"))}for(let e=0;e<10;e++){let n=i;n+=e,ne[e].addEventListener("click",(function(){Ce(n,U,!1),V.textContent=ce[n].name,X.textContent=`${ce[n].author}, ${ce[n].year}`,t.openModal(Q,k),n++})),Y.addEventListener("click",(function(){t.closeModal(Q,k)}))}for(let e=0;e<10;e++)Ce(i,ne[e],!1),i++;ie.textContent=`Round ${e+1}`,se.textContent=`${o}/10`,me=Z,ge=te,he(u,re)}_.addEventListener("click",(function(){let e=ge;me=n,ge=i,he(Z,e)})),ee.addEventListener("click",(function(){me=u,ge=re,he(Z,te)}));for(let e=0;e<10;e++)q[e].addEventListener("click",(function(){ke(e,"artists")}));for(let e=0;e<10;e++)f[e].addEventListener("click",(function(){ke(e,"pictures")}))};window.addEventListener("DOMContentLoaded",(()=>{e(),n()}))})();