(()=>{"use strict";const e=()=>{const e=document.querySelectorAll(".progress"),t=document.querySelector(".switch");e.forEach((e=>{e.addEventListener("input",(function(){let e=this.value;this.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${e}%, #C4C4C4 ${e}%, #C4C4C4 100%)`}))})),t.addEventListener("click",(()=>{t.classList.toggle("switchOn")}))},t={backgroundOverlay:document.querySelector(".container-overlay"),ltCorner:document.querySelector(".container-overlay-lt"),rtCorner:document.querySelector(".container-overlay-rt"),lbCorner:document.querySelector(".container-overlay-lb"),rbCorner:document.querySelector(".container-overlay-rb"),cornersCover:function(){this.backgroundOverlay.classList.remove("hidden"),this.ltCorner.classList.add("slideInLT"),this.ltCorner.addEventListener("animationend",(()=>{this.ltCorner.classList.remove("slideInLT"),this.backgroundOverlay.classList.add("hidden")})),this.rtCorner.classList.add("slideInRT"),this.rtCorner.addEventListener("animationend",(()=>{this.rtCorner.classList.remove("slideInRT")})),this.lbCorner.classList.add("slideInLB"),this.lbCorner.addEventListener("animationend",(()=>{this.lbCorner.classList.remove("slideInLB")})),this.rbCorner.classList.add("slideInRB"),this.rbCorner.addEventListener("animationend",(()=>{this.rbCorner.classList.remove("slideInRB")}))},openModal:function(e,t){t.classList.remove("hidden"),e.classList.remove("hidden"),e.classList.add("fadeIn"),e.addEventListener("animationend",(()=>{e.classList.remove("fadeIn"),e.classList.remove("hidden-modal")}))},closeModal:function(e,t){e.classList.add("hidden-modal"),e.classList.add("hidden"),t.classList.add("hidden")}},n=()=>{const e=document.querySelector(".container"),n=document.querySelector(".header-default"),s=document.querySelector(".mainscreen-container"),r=document.querySelector(".mainscreen-settings-open-btn"),o=document.querySelector(".mainscreen-buttons-artists"),i=document.querySelector(".mainscreen-buttons-pictures"),c=document.querySelector(".header-settings"),a=document.querySelector(".settings"),d=document.querySelectorAll(".settings-close"),l=document.querySelector(".settings-save-button"),u=document.querySelector(".header-menu"),m=document.querySelector(".categories-artists"),h=document.querySelector(".categories-paintings"),L=document.querySelector(".categories-settings-open-btn"),v=document.querySelector(".header-menu-text-home"),y=document.querySelector(".header-questions"),f=document.querySelector(".questions-artists"),q=document.querySelector(".questions-artists-picture-img"),g=document.querySelectorAll(".questions-artists-buttons-item"),S=document.querySelectorAll(".questions-artists-picture-dots-item"),C=document.querySelector(".overlay"),b=(document.querySelector(".modal"),document.querySelector(".modal-answer")),p=document.querySelector(".modal-answer-picture-img"),E=document.querySelector(".modal-answer-painting"),w=document.querySelector(".modal-answer-subheader"),k=document.querySelector(".modal-answer-picture-icon-correct"),I=document.querySelector(".modal-answer-picture-icon-incorrect"),M=document.querySelector(".modal-answer-btn");function x(){t.cornersCover()}let A,T,O,$,B,R=n,F=s;function j(t,n){x(),setTimeout((function(){e.classList.remove("container-mainscreen"),e.classList.add("container-default"),t.classList.add("hidden"),n.classList.add("hidden"),c.classList.remove("hidden"),a.classList.remove("hidden")}),500)}function D(t,s){x(),setTimeout((function(){t===n?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.remove("hidden"),s.classList.remove("hidden"),c.classList.add("hidden"),a.classList.add("hidden")}),500)}function z(t,n){x(),setTimeout((function(){F===s?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.add("hidden"),n.classList.add("hidden"),R.classList.remove("hidden"),F.classList.remove("hidden")}),400)}function G(e,t){try{const n=new Image;n.src=`https://raw.githubusercontent.com/dumbus/image-data/master/full/${e}full.jpg`,n.onload=()=>{t.style.backgroundImage=`url("${n.src}")`}}catch(e){console.log(e)}}async function H(e){await async function(){try{const e="https://raw.githubusercontent.com/dumbus/image-data/master/images.json",t=await fetch(e);return await t.json()}catch(e){console.log(e)}}().then((e=>{A=e}));let t=A[e],n=[];for(n.push(t.author);n.length<4;){let e=(s=0,r=241,s=Math.ceil(s),r=Math.floor(r),Math.floor(Math.random()*(r-s+1)+s)),t=A[e].author;-1===n.indexOf(t)&&n.push(t)}var s,r;return[t,n]}d.forEach((e=>{e.addEventListener("click",(function(){D(R,F)}))})),l.addEventListener("click",(function(){D(R,F)})),r.addEventListener("click",(function(){R=n,F=s,j(n,s)})),L.addEventListener("click",(function(){j(R,F)})),o.addEventListener("click",(function(){R=u,F=m,z(n,s)})),i.addEventListener("click",(function(){R=u,F=h,z(n,s)})),v.addEventListener("click",(function(){let e=F;R=n,F=s,z(u,e)}));class J{constructor(e){this.name=e,this.results=[]}}async function K(e,n){let s;G(e,q),G(e,p);let r=[];await H(e).then((e=>{s=e[0],r=e[1]})),E.textContent=s.name,w.textContent=`${s.author}, ${s.year}`,r.sort((()=>Math.random()-.5));let o=r.indexOf(s.author);for(let e=0;e<4;e++)g[e].textContent=r[e];g.forEach((s=>{s.addEventListener("click",(()=>{s.getAttribute("data-index")==o?(S[$].classList.add("questions-artists-picture-dots-item-correct"),I.classList.remove("hidden"),$++,n.results.push(!0)):(S[$].classList.add("questions-artists-picture-dots-item-incorrect"),k.classList.remove("hidden"),$++,n.results.push(!1)),t.openModal(b,C),e++,console.log(n)}))}))}m.addEventListener("click",(async e=>{if(!e.target.classList.contains("categories")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;T=t.getAttribute("data-index")-1,O=10*T,B=new J(`Round${T+1}`),$=0,K(O,B),R=y,F=f,z(u,m)}})),M.addEventListener("click",(function(){x(),setTimeout((function(){K(O,B),t.closeModal(b,C)}),400)}))};window.addEventListener("DOMContentLoaded",(()=>{e(),n()}))})();