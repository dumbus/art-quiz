(()=>{"use strict";const e=()=>{const e=document.querySelectorAll(".progress"),t=document.querySelector(".switch");e.forEach((e=>{e.addEventListener("input",(function(){let e=this.value;this.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${e}%, #C4C4C4 ${e}%, #C4C4C4 100%)`}))})),t.addEventListener("click",(()=>{t.classList.toggle("switchOn")}))},t={backgroundOverlay:document.querySelector(".container-overlay"),ltCorner:document.querySelector(".container-overlay-lt"),rtCorner:document.querySelector(".container-overlay-rt"),lbCorner:document.querySelector(".container-overlay-lb"),rbCorner:document.querySelector(".container-overlay-rb"),cornersCover:function(){this.backgroundOverlay.classList.remove("hidden"),this.ltCorner.classList.add("slideInLT"),this.ltCorner.addEventListener("animationend",(()=>{this.ltCorner.classList.remove("slideInLT"),this.backgroundOverlay.classList.add("hidden")})),this.rtCorner.classList.add("slideInRT"),this.rtCorner.addEventListener("animationend",(()=>{this.rtCorner.classList.remove("slideInRT")})),this.lbCorner.classList.add("slideInLB"),this.lbCorner.addEventListener("animationend",(()=>{this.lbCorner.classList.remove("slideInLB")})),this.rbCorner.classList.add("slideInRB"),this.rbCorner.addEventListener("animationend",(()=>{this.rbCorner.classList.remove("slideInRB")}))},openModal:function(e,t){t.classList.remove("hidden"),e.classList.remove("hidden"),e.classList.add("fadeIn"),e.addEventListener("animationend",(()=>{e.classList.remove("fadeIn"),e.classList.remove("hidden-modal")}))},closeModal:function(e,t){e.classList.add("hidden-modal"),e.classList.add("hidden"),t.classList.add("hidden")}},n=()=>{const e=document.querySelector(".container"),n=document.querySelector(".header-default"),i=document.querySelector(".mainscreen-container"),s=document.querySelector(".mainscreen-settings-open-btn"),o=document.querySelector(".mainscreen-buttons-artists"),r=document.querySelector(".mainscreen-buttons-pictures"),a=document.querySelector(".header-settings"),c=document.querySelector(".settings"),d=document.querySelectorAll(".settings-close"),l=document.querySelector(".settings-save-button"),u=document.querySelector(".header-menu"),m=document.querySelector(".categories-artists"),v=document.querySelector(".categories-paintings"),g=document.querySelector(".categories-settings-open-btn"),h=document.querySelector(".header-menu-text-home"),y=document.querySelectorAll(".categories-artists-item"),q=document.querySelectorAll(".categories-paintings-item"),L=document.querySelector(".header-questions"),f=document.querySelector(".header-questions-close"),S=document.querySelector(".questions-artists"),p=document.querySelector(".questions-artists-picture-img"),b=document.querySelectorAll(".questions-artists-picture-dots-item"),C=document.querySelector(".questions-paintings"),E=document.querySelector(".overlay"),w=document.querySelector(".modal-quit"),x=document.querySelector(".modal-quit-btn-cancel"),k=document.querySelector(".modal-quit-btn-confirm"),M=document.querySelector(".modal-answer-artists"),$=M.querySelector(".modal-answer-picture-img"),A=M.querySelector(".modal-answer-painting"),T=M.querySelector(".modal-answer-subheader"),I=M.querySelector(".modal-answer-picture-icon-incorrect"),O=M.querySelector(".modal-answer-picture-icon-correct"),B=M.querySelector(".modal-answer-btn"),R=document.querySelector(".modal-answer-paintings"),j=R.querySelector(".modal-answer-picture-img"),F=R.querySelector(".modal-answer-painting"),N=R.querySelector(".modal-answer-subheader"),H=R.querySelector(".modal-answer-picture-icon-incorrect"),z=R.querySelector(".modal-answer-picture-icon-correct"),D=R.querySelector(".modal-answer-btn"),P=document.querySelector(".modal-victory"),W=document.querySelector(".modal-victory-btn-home"),G=document.querySelector(".modal-victory-btn-next");function J(){t.cornersCover()}let K,Q,U,V,X,Y,Z=n,_=i;function ee(t,n){J(),setTimeout((function(){e.classList.remove("container-mainscreen"),e.classList.add("container-default"),t.classList.add("hidden"),n.classList.add("hidden"),a.classList.remove("hidden"),c.classList.remove("hidden")}),500)}function te(t,i){J(),setTimeout((function(){t===n?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.remove("hidden"),i.classList.remove("hidden"),a.classList.add("hidden"),c.classList.add("hidden")}),500)}function ne(t,n){J(),setTimeout((function(){_===i?(e.classList.add("container-mainscreen"),e.classList.remove("container-default")):(e.classList.remove("container-mainscreen"),e.classList.add("container-default")),t.classList.add("hidden"),n.classList.add("hidden"),Z.classList.remove("hidden"),_.classList.remove("hidden")}),400)}d.forEach((e=>{e.addEventListener("click",(function(){te(Z,_)}))})),l.addEventListener("click",(function(){te(Z,_)})),s.addEventListener("click",(function(){Z=n,_=i,ee(n,i)})),g.addEventListener("click",(function(){ee(Z,_)})),o.addEventListener("click",(function(){K=m,Q=S,Z=u,_=m,ne(n,i)})),r.addEventListener("click",(function(){K=v,Q=C,Z=u,_=v,ne(n,i)})),h.addEventListener("click",(function(){let e=_;Z=n,_=i,ne(u,e)}));let ie=[],se=[];function oe(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}async function re(){try{const e="https://raw.githubusercontent.com/dumbus/image-data/master/images.json",t=await fetch(e);return await t.json()}catch(e){console.log(e)}}function ae(e,t,n=!0){try{const i=new Image;i.src=n?`https://raw.githubusercontent.com/dumbus/image-data/master/full/${e}full.jpg`:`https://raw.githubusercontent.com/dumbus/image-data/master/img/${e}.jpg`,i.onload=()=>{t.style.backgroundImage=`url("${i.src}")`,t.style.backgroundSize="100%"}}catch(e){console.log(e)}}async function ce(){const e=document.querySelector(".questions-artists-buttons"),n=document.querySelectorAll(".questions-artists-buttons-item");let i;ae(X,p),ae(X,$,!1);let s=[];await async function(e){await re().then((e=>{U=e}));let t=U[e],n=[];for(n.push(t.author);n.length<4;){let e=oe(0,241),t=U[e].author;-1==n.indexOf(t)&&n.push(t)}return[t,n]}(X).then((e=>{i=e[0],s=e[1]})),A.textContent=i.name,T.textContent=`${i.author}, ${i.year}`,s.sort((()=>Math.random()-.5));let o=s.indexOf(i.author);for(let e=0;e<4;e++)n[e].textContent=s[e];n.forEach((n=>{n.addEventListener("click",(function(){if(n.getAttribute("data-index")==o?ie[Y]=!0:ie[Y]=!1,1==ie[Y]?(O.classList.remove("hidden"),b[Y].classList.add("questions-artists-picture-dots-item-correct")):(I.classList.remove("hidden"),b[Y].classList.add("questions-artists-picture-dots-item-incorrect")),9===Y){let e=0;ie.forEach((t=>{!0===t&&e++}));let n=document.querySelector(".modal-victory-subheader");n.textContent=e>0?"Congratulations!":"Bad luck...",document.querySelector(".modal-victory-result").textContent=`${e}/10`,t.openModal(P,E),y[V].querySelector(".categories-item-header-score").textContent=`${e}/10`,y[V].classList.remove("categories-item-inactive"),localStorage.setItem(`ArtistsRound${V+1}`,ie)}else e.innerHTML='\n          <div class="questions-artists-buttons-item button" data-index="0"></div>\n          <div class="questions-artists-buttons-item button" data-index="1"></div>\n          <div class="questions-artists-buttons-item button" data-index="2"></div>\n          <div class="questions-artists-buttons-item button" data-index="3"></div>\n          ',t.openModal(M,E)}))}))}async function de(){document.querySelector(".questions-paintings-grid").innerHTML='\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="0"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="1"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="2"></div>\n      </div>\n      <div class="questions-paintings-grid-item">\n        <div class="questions-paintings-grid-item-img"></div>\n        <div class="questions-paintings-grid-item-overlay" data-index="3"></div>\n      </div>\n    ';const e=document.querySelector(".questions-paintings-subheader"),n=document.querySelectorAll(".questions-paintings-grid-item"),i=document.querySelectorAll(".questions-paintings-grid-item-overlay");let s,o=[];await async function(e){await re().then((e=>{U=e}));let t=U[e],n=[];for(console.log(e),n.push(t.imageNum);n.length<4;){let e=oe(0,241),t=U[e].imageNum;-1==n.indexOf(t)&&n.push(t)}return[t,n]}(X).then((e=>{s=e[0],o=e[1]})),ae(X,j,!1),F.textContent=s.name,N.textContent=`${s.author}, ${s.year}`,o.sort((()=>Math.random()-.5));let r=o.indexOf(s.imageNum);e.textContent=`Which is ${s.author} picture?`;let a=0;n.forEach((e=>{ae(o[a],e),a++})),i.forEach((e=>{e.addEventListener("click",(function(){if(e.getAttribute("data-index")==r?se[Y]=!0:se[Y]=!1,1==se[Y]?(z.classList.remove("hidden"),e.classList.add("questions-paintings-grid-item-overlay-correct")):(H.classList.remove("hidden"),e.classList.add("questions-paintings-grid-item-overlay-incorrect")),9===Y){let e=0;se.forEach((t=>{!0===t&&e++}));let n=document.querySelector(".modal-victory-subheader");n.textContent=e>0?"Congratulations!":"Bad luck...",document.querySelector(".modal-victory-result").textContent=`${e}/10`,t.openModal(P,E),q[V].querySelector(".categories-item-header-score").textContent=`${e}/10`,q[V].classList.remove("categories-item-inactive"),localStorage.setItem(`PaintingsRound${V+1}`,se)}else t.openModal(R,E)}))}))}m.addEventListener("click",(async e=>{if(K=m,Q=S,!e.target.classList.contains("categories")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;V=t.getAttribute("data-index")-1,X=10*V,Y=0,await ce(),Z=L,_=S,ne(u,m)}})),B.addEventListener("click",(function(){X++,Y++,J(),setTimeout((function(){ce(),t.closeModal(M,E),O.classList.add("hidden"),I.classList.add("hidden")}),400)})),f.addEventListener("click",(function(){t.openModal(w,E)})),G.addEventListener("click",(function(){Z=u,_=K,ne(L,Q),setTimeout((function(){t.closeModal(M,E),t.closeModal(P,E)}),500)})),W.addEventListener("click",(function(){Z=n,_=i,ne(L,Q),setTimeout((function(){t.closeModal(M,E),t.closeModal(P,E)}),500)})),k.addEventListener("click",(function(){Z=n,_=i,ne(L,Q),setTimeout((function(){t.closeModal(w,E)}),500)})),x.addEventListener("click",(function(){w.classList.add("fadeOut"),setTimeout((function(){w.classList.remove("fadeOut"),t.closeModal(w,E)}),500)})),v.addEventListener("click",(async e=>{if(K=v,Q=C,!e.target.classList.contains("categories")){let t=e.target;for(;!t.classList.contains("categories-item");)t=t.parentElement;V=t.getAttribute("data-index")-1,X=10*V+120,Y=0,await de(),Z=L,_=C,ne(u,v)}})),D.addEventListener("click",(function(){X++,Y++,J(),setTimeout((function(){de(),t.closeModal(R,E),z.classList.add("hidden"),H.classList.add("hidden")}),400)})),f.addEventListener("click",(function(){t.openModal(w,E)}))};window.addEventListener("DOMContentLoaded",(()=>{e(),n()}))})();